@page "/"
@using ImpactSpace.Core.Organizations

@inherits CoreComponentBase
@inject NavigationManager NavigationManager
@inject IOrganizationAppService OrganizationAppService
@inject IOrganizationProfileAppService OrganizationProfileAppService

<AuthorizeView>
    <Authorized>
        <Heading Size="HeadingSize.Is4">Dashboard</Heading>
        @if (IsOrganizationSetupRequired || IsOrganizationProfileSetupRequired)
        {
            <CardDeck>
                @if (IsOrganizationSetupRequired)
                {
                    <OrganizationSetupCard OnSetupCompleted="OnSetupCompleted"/>    
                }
                else if (IsOrganizationProfileSetupRequired)
                {
                    <OrganizationProfileSetupCard />    
                }        
            </CardDeck>
        }
    </Authorized>
    <NotAuthorized>
        <WelcomeComponent />    
    </NotAuthorized>
</AuthorizeView>